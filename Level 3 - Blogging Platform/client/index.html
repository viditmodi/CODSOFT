<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/main.css" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />

    <script src="./templates/footer.template.js"></script>
    <script src="./templates/gallery.js"></script>
    <script src="./js/auth.js"></script>
    <script src="/js/data/apiURLs.js"></script>
    <script src="./js/search.js"></script>
    <script src="./templates/loader.js"></script>
    <title>QuillCraft | The Workshop For The Wordsmiths</title>
  </head>
  <body onload="onLoadHandler()">
    <!--green-f// Banner Section -->
    <section class="banner">
      <div class="logo__conatiner banner__logo-container">
        <img
          src="./assets/images/logo.png"
          alt="logo"
          class="banner__logo-image logo__image"
        />
      </div>
      
      <h1 class="banner__title">QuillCraft</h1>
      <h3 class="banner__tagline">Unleash Your Inner Wordsmith</h3>
      <nav class="banner__nav">
        <ul class="banner__nav-list">
          <a
            href="/pages/auth/login.html"
            class="banner__nav-link btn btn__push btn__push--focus"
            ><li class="banner__nav-item">Login</li></a
          >
          <a
            href="/pages/auth/register.html"
            class="banner__nav-link btn btn__push btn__push--nofocus"
            ><li class="banner__nav-item">Register</li></a
          >
        </ul>
      </nav>
      <form action="" class="banner__form" id="searchForm">
        <input
          type="text"
          name="bannerSearch"
          id="bannerSearch"
          class="banner__form__textbox textbox"
          placeholder="search here"
        />
      </form>
    </section>


    <!--green-f// Blog Gallery Section -->
    <section class="wrapper" id="galleryContainer"></section>
    

    <!--red-f// Blogger Gallery Section -->
    <section class="blogger-gallery wrapper">Bloggers Gallery</section>
    <!--red-f// Footer Section -->
    <footer class="footer" id="Footer"></footer>

    <script>
      const blogGallery = document.getElementById("blogGallery");
      const blogsDataArray = [
        {
          blogID: "qwertyuiop",
          thumbnail:
            "https://images.panda.org/assets/images/pages/welcome/orangutan_1600x1000_279157.jpg",
          title: "meet my orangutan",
          desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum at error sunt porro quaerat officia, vel, iusto nam in nulla dolorem quos, exercitationem saepe! Rem laboriosam voluptatem qui adipisci libero, molestiae sit praesentium corrupti earum officiis cumque natus asperiores? Non delectus possimus voluptatibus in numquam sequi earum tenetur odio repellendus?",
          author: {
            image:
              "https://i.pinimg.com/236x/dd/97/3a/dd973ac116a977c8dd5296b0da504b8c.jpg",
            name: "Krishna",
          },
          category: "Health",
          metadata: {
            publishedDate: new Date(),
            likes: "785",
            views: "74125",
            comments: "56",
          },
        },
        {
          blogID: "asdfghjkl",
          thumbnail:
            "https://images.panda.org/assets/images/pages/welcome/orangutan_1600x1000_279157.jpg",
          title: "meet my orangutan",
          desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum at error sunt porro quaerat officia, vel, iusto nam in nulla dolorem quos, exercitationem saepe! Rem laboriosam voluptatem qui adipisci libero, molestiae sit praesentium corrupti earum officiis cumque natus asperiores? Non delectus possimus voluptatibus in numquam sequi earum tenetur odio repellendus?",
          author: {
            image:
              "https://i.pinimg.com/236x/dd/97/3a/dd973ac116a977c8dd5296b0da504b8c.jpg",
            name: "Krishna",
          },
          category: "Fashion",
          metadata: {
            publishedDate: new Date(),
            likes: "785",
            views: "74125",
            comments: "56",
          },
        },
        {
          blogID: "zxcvbnmasdf",
          thumbnail:
            "https://images.panda.org/assets/images/pages/welcome/orangutan_1600x1000_279157.jpg",
          title: "meet my orangutan",
          desc: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Rerum at error sunt porro quaerat officia, vel, iusto nam in nulla dolorem quos, exercitationem saepe! Rem laboriosam voluptatem qui adipisci libero, molestiae sit praesentium corrupti earum officiis cumque natus asperiores? Non delectus possimus voluptatibus in numquam sequi earum tenetur odio repellendus?",
          author: {
            image:
              "https://i.pinimg.com/236x/dd/97/3a/dd973ac116a977c8dd5296b0da504b8c.jpg",
            name: "Krishna",
          },
          category: "Animals",
          metadata: {
            publishedDate: new Date(),
            likes: "785",
            views: "74125",
            comments: "56",
          },
        },
      ];

      createLoader()
      const onLoadHandler = async () => {
        if (checkLoginStatus()) {
          window.location.href = "/pages/user/dashboard.html";
        }



        try {
          const response = await fetch(featuredBlogURL)
          const res = await response.json()

          console.log(res)
          createGallery(
              document.getElementById("galleryContainer"),
              "blog",
              "Blogs For You",
              res.data
            );
        } catch (error) {
          console.log(error)
        }



        // createGallery(document.getElementById("galleryContainer"), "blog", "Featured Blogs", blogsDataArray)

        createFooter()


        // blogsDataArray.forEach((blogData) => {
        //   createBlogCard(blogGallery, blogData);
        // });

        removeLoader()
      };
    </script>

    <script>
      document.getElementById("searchForm").addEventListener("submit", async (e)=>{
        e.preventDefault()
        console.log("searching")
        const textbox = document.getElementById("bannerSearch")
        const res = await searchBar(textbox.value)
      })
    </script>
  </body>
</html>
